Задача 1
Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

электронные чеки в json-виде,
склады и автомобильные дороги для логистической компании,
генеалогические деревья,
кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
отношения клиент-покупка для интернет-магазина.
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

Ответ:



Задача 2
Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

данные записываются на все узлы с задержкой до часа (асинхронная запись);
при сетевых сбоях система может разделиться на 2 раздельных кластера;
система может не прислать корректный ответ или сбросить соединение.
Согласно PACELC-теореме как бы вы классифицировали эти реализации?

Ответ:

| Реализация системы | CAP | PACELC |
| --- | --- | --- |
| Данные записываются на все узлы с задержкой до часа (асинхронная запись) | CA | PC/EL |
| При сетевых сбоях система может разделиться на 2 раздельных кластера | AP | PA/EL |
| Система может не прислать корректный ответ или сбросить соединение | CP | PA/EC |

Задача 3
Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Ответ:

В одном приложении одновременно принципы BASE и ACID выполняться не могут, т.к. возникает противоречие по нескольким пунктам:
ACID должна обеспечивать D - durability (стойкость) гарантия применения успешных транзакций, независимо от низкоуровневых проблем, BASE же допускает базовую доступность BA - basically availability деградация части узлов ведет к деградации части сессий, исключая полную деградацию системы. Система отвечает на любой запрос, но в ответе могут быть неверные данные.
Принципы BASE и ACID можно сочетать, если ИТ система будет состоять из нескольких независимых частей. Например, на уровне СУБД мы используем принцивы BASE для высокой скорости отклика, а на уровне приложения обеспечиваем принцип BASE. Таким образом, при использовании уровней абстракции, работающих изолированно друг от друга, мы можем обеспечить разные подходы.

Задача 4
Вам дали задачу написать системное решение, основой которого бы послужили:

фиксация некоторых значений с временем жизни,
реакция на истечение таймаута.
Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

Ответ:

Речь вероятно идет о системе Redis с механизмом pub/sub. Плюсом её является то, что она хранит информацию в оперативной памяти, что позволяет быстро её получать. Но это также является и её минусом т.к. при сбоях, при отсутсвии реплик информация (или её часть при включенном хранении копии информации на диске) может потеряться. Также сама по себе система не поддерживает автоматическую отказоустойчивость и в случае выхода основного узла из строя необходимо вручную выбрать новый основной узел, либо использовать дополнительную систему, например Redis Sentinel.